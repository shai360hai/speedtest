<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #result {
            margin-top: 20px;
            font-size: 24px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Internet Speed Test</h1>
    <button onclick="startSpeedTest()">Start Test</button>
    <div id="result"></div>

    <script>
        function startSpeedTest() {
            const imageUrl = 'https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png'; // Sample image for testing
            const downloadSize = 21545; // Size in bytes

            const startTime = new Date().getTime();
            const img = new Image();

            img.onload = function() {
                const endTime = new Date().getTime();
                const duration = (endTime - startTime) / 1000;
                const bitsLoaded = downloadSize * 8;
                const speedBps = bitsLoaded / duration;
                const speedKbps = speedBps / 1024;
                const speedMbps = speedKbps / 1024;

                document.getElementById('result').innerText = `Your download speed is ${speedMbps.toFixed(2)} Mbps`;
            };

            img.onerror = function() {
                document.getElementById('result').innerText = 'Error in measuring speed. Please try again.';
            };

            img.src = imageUrl + '?cacheBuster=' + new Date().getTime(); // Cache buster to avoid cached image
        }
    </script>
</body>
</html>
